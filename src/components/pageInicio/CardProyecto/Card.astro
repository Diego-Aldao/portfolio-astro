---
import ArrowRightTop from "../../Icon/ArrowRightTop.astro";

interface Props {
  titulo: string;
  año: string;
  descripcion: string;
  link: string;
}

const { titulo, descripcion, año, link } = Astro.props;
---

<article
  id="card"
  class={`card card-${titulo} p-6 max-w-[550px] pb-0 relative group rounded-xl flex flex-col gap-12 md:gap-10 sm:px-8 md:px-10 lg:px-12 md:pt-8 w-full md:max-w-[850px] xl:max-w-5xl 2xl:max-w-7xl mx-auto overflow-hidden custom-transition--slow border border-[#3d3d3d]`}
>
  <div
    class={`bg bg-${titulo} absolute w-full h-full top-0 left-0 opacity-0 lg:group-hover:opacity-100 custom-transition--slow`}
  >
  </div>
  <header class="flex flex-col gap-4 md:gap-5 z-[1] relative">
    <div class="upper-header flex justify-between items-center">
      <h2
        class="capitalize text-xl md:text-2xl xl:text-3xl 2xl:text-4xl font-semibold flex justify-between items-center"
      >
        {titulo}
      </h2>
      <a
        href={link}
        class="link flex gap-2 text-sm items-end lg:-translate-x-2 lg:group-hover:translate-x-0 custom-transition--slow"
        target="_blank"
        rel="noopener noreferrer"
      >
        <span
          class="hidden first-letter:uppercase hover: lg:inline-block opacity-0 invisible custom-transition translate-y-2 group-hover:translate-y-0 group-hover:opacity-100 group-hover:visible xl:text-lg"
          >ir a {link.replaceAll("https://", "").replaceAll("/", "")}
        </span>
        <ArrowRightTop class="md:h-6 md:w-6 xl:h-9 xl:w-9" />
      </a>
    </div>
    <slot name="tecnologias" />
    <p
      class="lg:text-secondary-white lg:group-hover:text-main-white custom-transition text-sm xl:text-base"
    >
      <span class="font-semibold">{año}</span> — {descripcion}
    </p>
  </header>
  <div
    class="imagen border-[#3d3d3d] border custom-transition--slow w-full rounded-md md:rounded-xl flex justify-end overflow-hidden relative -bottom-1 lg:-bottom-10 lg:group-hover:-bottom-6 max-h-[400px] lg:max-h-[550px]"
  >
    <slot name="imagen" />
  </div>
</article>

<style>
  h2,
  span,
  p {
    text-shadow: 0 -2px 10px #ffffff33;
  }
  .imagen {
    box-shadow: 0 40px 50px 10px rgba(0, 0, 0, 0.25);
  }
  .card {
    background-image: linear-gradient(190deg, #252525, #101010);
  }

  .bg-valorant {
    background: radial-gradient(circle at 50% 0, #fc4655a1, #00000000);
  }
  .bg-odyssey {
    background: radial-gradient(circle at 50% 0, #e6e4d560, #00000000);
  }
  .bg-akira {
    background: radial-gradient(circle at 50% 0, #ff8ff686, #00000000);
  }
  .bg-movieverse {
    background: radial-gradient(circle at 50% 0, #dfff6080, #00000000);
  }

  @media (min-width: 1024) {
    .card-valorant:hover,
    .card-valorant:hover .imagen {
      border-color: hsla(355, 97%, 63%, 0.3);
    }
    .card-odyssey:hover,
    .card-odyssey:hover .imagen {
      border-color: hsla(53, 25%, 87%, 0.2);
    }
    .card-akira:hover,
    .card-akira:hover .imagen {
      border-color: hsla(305, 100%, 78%, 0.2);
    }
    .card-movieverse:hover,
    .card-movieverse:hover .imagen {
      border-color: hsla(72, 100%, 69%, 0.2);
    }
  }
</style>
